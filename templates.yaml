# vzorový template na kterém jsou všechny možné atributy

- sensor:
    - name: "TEST Pazzy - Energy Export Price - Current Price - TEST YAML"
      unique_id: test_pazzy_energyexportprice_currentprice_TEST_YAML
      state: >
        {{ states('sensor.current_sell_electricity_price')
        | float | round(0) | int 
        }}
      unit_of_measurement: "Kč / MWh"
      icon: mdi:cash-100
      #state_class: measurement
      device_class: monetary
      availability: >
        {{ states('sensor.current_sell_electricity_price') not in ['unknown','unavailable','none'] }}
      attributes: # zde si mohu nadefinovat cokoliv chci s jakýmkoliv kódem i hodnotou
        labels: "pazzy_energy_export_price, pazzy_settings"
        source: "sensor.current_sell_electricity_price"

    # tady jsou produkční helpery a jiné entity

    - name: "Pazzy - Energy Import Price - Cheap Tariff Active"
      unique_id: pazzy_energyimportprice_cheaptariffactive
      state: >
        {% set cheap_period = states('input_text.pazzy_energyimportprice_cheaptariffperiod').split(',') | map('int') | list %}
        {% if cheap_period | contains(now().hour) %}
          1
        {% else %}
          0
        {% endif %}
      device_class: power
      icon: mdi:cash-100

    - name: "Pazzy26 - Salus Temperature Set"
      unique_id: pazzy25_salus_temp_set
      state: >
        {{ state_attr('climate.salus_thermostat', 'temperature') }}
      unit_of_measurement: "°C"
      device_class: temperature
      icon: mdi:thermometer-high
      attributes:
        labels: "salus, temperature"

    # ostatní testovací helpery

    - name: "Salus IT500 Status"
      unique_id: salus_it500_status
      state: >
        {% if state_attr('climate.salus_thermostat', 'hvac_action') == 'heating' %}
          Heating
        {% else %}
          Idle
        {% endif %}

    - name: "TEST Pazzy - TEST TEST SMAZAT"
      unique_id: test_pazzy_test_test_smazat
      state: >
        2
    - name: "TEST Ahoj SMAZAT"
      unique_id: test_ahoj_smazat
      state: >
        3
    - name: "TEST 333 Smazat"
      unique_id: test_333smazat
      state: >
        {{ states('sensor.pazzy_energy_export_price') | float
        }}
    - name: "TEST bojler"
      unique_id: test_bojler
      state: >
        {{ states('input_number.pazzy_waterheatersettings_temp2_mid') | float
        }}
